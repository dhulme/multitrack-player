(function(t){function e(e){for(var i,r,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/multitrack-player/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01d6":function(t,e,a){},"127e":function(t,e,a){"use strict";var i=a("4acc"),n=a.n(i);n.a},"2b23":function(t,e,a){"use strict";var i=a("01d6"),n=a.n(i);n.a},4530:function(t,e,a){"use strict";var i=a("ab31"),n=a.n(i);n.a},"4acc":function(t,e,a){},5462:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$store.state.loading?a("VProgressLinear",{attrs:{indeterminate:""}}):a("VApp",[a("VAppBar",{staticClass:"app-bar",attrs:{height:"auto"}},[a("v-toolbar-title",{staticClass:"headline d-none d-md-flex"},[t._v("\n        Multitrack Player\n      ")]),a("Controls")],1),a("v-content",[a("router-view")],1)],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VRow",{attrs:{justify:"end",align:"center"}},[a("VBtn",{staticClass:"icon-button",attrs:{icon:""},on:{click:function(e){return t.mapControlOrDispatchAction("playPause")}}},[a("VIcon",[t._v(t._s(t.playPauseIcon))]),t.$store.state.controlEditMode?a("VIcon",[t._v(t._s(t.getControlMappingIcon("playPause")))]):t._e(),t._v("\n    "+t._s(t.getControlMappingName("playPause"))+"\n  ")],1),a("VBtn",{attrs:{icon:""},on:{click:function(e){return t.mapControlOrDispatchAction("stop")}}},[a("VIcon",[t._v(t._s(t.mdiStop))])],1),a("VBtn",{attrs:{icon:"",outlined:t.$store.state.clickActive},on:{click:function(e){return t.mapControlOrDispatchAction("clickActive","toggleClickActive")}}},[a("VIcon",[t._v(t._s(t.mdiMetronome))])],1),a("TextField",{model:{value:t.clickBpm,callback:function(e){t.clickBpm=e},expression:"clickBpm"}}),a("TextField",{model:{value:t.clickTimeSignature,callback:function(e){t.clickTimeSignature=e},expression:"clickTimeSignature"}}),a("Clock",{staticClass:"mr-4",attrs:{values:t.timeValues,icon:t.mdiClockOutline}}),a("Clock",{attrs:{values:t.beatsValues,icon:t.mdiMusicNote}}),a("VBtn",{attrs:{text:"",icon:""},on:{click:function(e){return t.$store.dispatch("toggleSettingsDialog")}}},[a("VIcon",[t._v(t._s(t.mdiWrench))])],1),a("VBtn",{attrs:{text:"",icon:""},on:{click:function(e){return t.$store.dispatch("toggleAboutDialog")}}},[a("VIcon",[t._v(t._s(t.mdiInformation))])],1)],1)},s=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"text-center clock-container"},[a("VIcon",[t._v(t._s(t.icon))]),t._l(t.values,(function(e,i){return[a("div",{key:"value"+i,staticClass:"value"},[t._v(t._s(e))]),i<t.values.length-1?a("div",{key:"spacer"+i,staticClass:"spacer"},[t._v("\n      :\n    ")]):t._e()]}))],2)},l=[],u={props:{values:Array,icon:String}},d=u,p=(a("127e"),a("2877")),m=a("6544"),k=a.n(m),g=a("132d"),h=Object(p["a"])(d,c,l,!1,null,"6ecfb2a4",null),v=h.exports;k()(h,{VIcon:g["a"]});var f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VTextField",{staticClass:"input-thin",attrs:{"single-line":"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("input",t.localValue)}},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}})},V=[],C={props:["value"],data(){return{localValue:this.value}},watch:{value(t){this.value=t}}},b=C,y=(a("2b23"),a("8654")),T=Object(p["a"])(b,f,V,!1,null,null,null),S=T.exports;k()(T,{VTextField:y["a"]});var P=a("94ed"),_={components:{Clock:v,TextField:S},data(){return{mdiStop:P["g"],mdiMetronome:P["d"],mdiWrench:P["h"],mdiInformation:P["b"],mdiMusicNote:P["e"],mdiClockOutline:P["a"]}},computed:{playPauseIcon(){return{playing:"mdi-pause",paused:"mdi-play",stopped:"mdi-play"}[this.$store.state.playState]},clickBpm:{get(){return this.$store.state.clickBpm},set(t){this.$store.dispatch("setClickBpm",t)}},clickTimeSignature:{get(){const{beats:t,unit:e}=this.$store.state.clickTimeSignature;return`${t}/${e}`},set(t){const[e,a]=t.split("/");this.$store.dispatch("setClickTimeSignature",{beats:Number(e)||"",unit:Number(a)||""})}},timeValues(){const t=this.$store.state.playPosition;return[Math.floor(t/60),Math.floor(t%60),Math.floor(t%1*10)]},beatsValues(){return this.$store.getters.playBeatsPosition}},methods:{mapControlOrDispatchAction(t,e){if(!this.$store.state.controlEditMode)return this.$store.dispatch(e||t);this.$store.dispatch("setControlEditSelected",t)},getControlMappingIcon(t){const e=this.$store.getters.getControlMapping(t);if(e)return{key:P["c"],note:P["f"],controlChange:P["f"]}[e.type]},getControlMappingName(t){if(!this.$store.state.controlEditMode)return;const e=this.$store.getters.getControlMapping(t);return e?e.value:""}}},x=_,$=(a("9be0"),a("8336")),w=a("0fd9"),E=Object(p["a"])(x,r,s,!1,null,"0fbc6f74",null),M=E.exports;k()(E,{VBtn:$["a"],VIcon:g["a"],VRow:w["a"]});const A=new AudioContext,D=new StereoPannerNode(A,{pan:0}),B=A.createGain();let O=null,G=null,I=0;async function N(){const t=await fetch("./click.wav"),e=await t.arrayBuffer(),a=await fetch("./click-accent.wav"),i=await a.arrayBuffer();return new Promise(t=>{A.decodeAudioData(e,e=>{O=e,A.decodeAudioData(i,e=>{G=e,t()})})})}function j(t){const{beats:e,unit:a}=t.state.clickTimeSignature;if(!e||!a)return;const i=J(t.state);if(t.state.playPosition/I>i){const t=A.createBufferSource();t.connect(B).connect(D).connect(A.destination),I%e===0?(t.buffer=G,t.start()):(t.buffer=O,t.start()),I++}}function L(t){D.pan.value=t}function F(){I=0}function R(t){B.gain.value=t}function J(t){return 60/(t.clickBpm*(t.clickTimeSignature.unit/4))}function K(t){const e=Math.floor(t.playPosition/J(t));return[Math.floor(e/t.clickTimeSignature.beats),e%t.clickTimeSignature.beats+1]}var W=a("c62b"),q=a.n(W);function H(){return new Promise((t,e)=>{q.a.enable(a=>{a?e(a):t()})})}function z(){return q.a.inputs}function Q(t){return q.a.getInputByName(t)}function U(t,e){const a=Q(t);a.removeListener(),a.addListener("noteon","all",t=>{e.dispatch(e.state.controlEditMode?"setControlEdit":"triggerControlAction",{type:"note",value:t.note.number})}),a.addListener("controlchange","all",t=>{e.dispatch(e.state.controlEditMode&&127===t.value?"setControlEdit":"triggerControlAction",{type:"controlChange",value:t.controller.number})})}function X(t){document.addEventListener("keyup",e=>{t.dispatch(t.state.controlEditMode?"setControlEdit":"triggerControlAction",{type:"key",value:e.key})})}var Y={components:{Controls:M},async mounted(){await Promise.all([H(),N()]),X(this.$store),this.$store.commit("setLoading",!1)},watch:{"$store.state.controlEditMode"(t){this.$vuetify.theme.dark=!!t}}},Z=Y,tt=(a("4530"),a("7496")),et=a("40dc"),at=a("a75b"),it=a("8e36"),nt=a("2a7f"),ot=Object(p["a"])(Z,n,o,!1,null,"02401502",null),rt=ot.exports;k()(ot,{VApp:tt["a"],VAppBar:et["a"],VContent:at["a"],VProgressLinear:it["a"],VToolbarTitle:nt["a"]});var st=a("8c4f"),ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VContainer",[a("SettingsDialog"),a("AboutDialog"),a("TrackManager")],1)},lt=[],ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("VFileInput",{attrs:{label:"Tracks",value:t.files,multiple:"",placeholder:"Add audio files"},on:{change:t.addTracks}}),t._l(t.$store.state.tracks,(function(t,e){return a("Track",{key:t.id,attrs:{track:t,number:e+1}})}))],2)},dt=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCard",{staticClass:"mb-4"},[a("VCardText",[a("VRow",{attrs:{"no-gutters":""}},[a("VCol",{staticClass:"pr-4",attrs:{cols:"3"}},[a("VTextField",{model:{value:t.track.name,callback:function(e){t.$set(t.track,"name",e)},expression:"track.name"}}),a("VRow",{attrs:{dense:"",justify:"space-between"}},[a("VBtn",{attrs:{outlined:!t.track.active,color:t.activeColor},on:{click:t.toggleActive}},[t._v(t._s(t.number))]),a("VBtn",{attrs:{outlined:!t.solo,color:"primary"},on:{click:t.toggleSolo}},[t._v("Solo")]),a("VBtn",{attrs:{icon:""},on:{click:t.remove}},[a("VIcon",[t._v("mdi-delete")])],1)],1),a("VSlider",{staticClass:"mt-4",attrs:{"hide-details":"",min:"0",max:"1.5",step:"0.01"},model:{value:t.gain,callback:function(e){t.gain=e},expression:"gain"}}),a("audio",{ref:"audio",attrs:{src:""}})],1),a("VCol",{attrs:{cols:"9"}},[t.track.ready?t._e():a("VProgressCircular",{attrs:{indeterminate:""}}),a("div",{ref:"waveformContainer"})],1)],1)],1)],1)},mt=[],kt=a("a1d3"),gt=a.n(kt);let ht=0;class vt{constructor({arrayBuffer:t,audioContext:e,stereoPannerNode:a}){this.id=ht++,this.name=`Track ${ht}`,this.audioContext=e,this.stereoPannerNode=a,this.ready=!1,this.gainNode=e.createGain(),this.gainValue=1,this.active=!0,e.decodeAudioData(t,t=>{this.audioBuffer=t,this.initAudioSource(),this.ready=!0})}initAudioSource(){this.audioSource=this.audioContext.createBufferSource(),this.audioSource.buffer=this.audioBuffer,this.audioSource.connect(this.gainNode).connect(this.stereoPannerNode).connect(this.audioContext.destination)}play(t,e=0){this.audioSource.start(t,e)}pause(t){this.audioSource.stop(t),this.initAudioSource()}stop(t){this.audioSource.stop(t),this.initAudioSource()}setPeaksPlayheadTime(t){this.peaksOverview._playheadLayer.stop(t)}initPeaks(t){this.peaks=gt.a.init({...t,webAudio:{audioBuffer:this.audioSource.buffer}},()=>{this.peaksOverview=this.peaks.views.getView("overview")})}isSoloOrActive(t){return t===this||null===t&&this.active}setGain(t,e){this.gainNode.gain.value=this.isSoloOrActive(e)?t+this.gainValue-1:0}eventLoop(t){this.peaksOverview&&this.setPeaksPlayheadTime(t)}}var ft={props:{number:Number,track:vt},mounted(){},computed:{gain:{get(){return this.track.gainValue},set(t){return this.$store.dispatch("setTrackGainValue",{track:this.track,value:t})}},solo(){return this.$store.state.soloTrack===this.track},activeColor(){const t=this.$store.state.soloTrack;return t===this.track||null===t?"primary":"accent"}},watch:{"track.ready"(){this.track.initPeaks({mediaElement:this.$refs.audio,containers:{overview:this.$refs.waveformContainer},height:150})},active(t){this.track.setGainValue(t?this.gain:0)}},methods:{remove(){this.$store.dispatch("removeTrack",this.track)},toggleActive(){this.$store.dispatch("setTrackActive",{track:this.track,value:!this.track.active})},toggleSolo(){this.$store.dispatch("setSoloTrack",this.solo?null:this.track)}}},Vt=ft,Ct=(a("9e86"),a("b0af")),bt=a("99d9"),yt=a("62ad"),Tt=a("490a"),St=a("ba0d"),Pt=Object(p["a"])(Vt,pt,mt,!1,null,"63e82cea",null),_t=Pt.exports;k()(Pt,{VBtn:$["a"],VCard:Ct["a"],VCardText:bt["b"],VCol:yt["a"],VIcon:g["a"],VProgressCircular:Tt["a"],VRow:w["a"],VSlider:St["a"],VTextField:y["a"]});var xt={components:{Track:_t},data(){return{files:[]}},methods:{addTracks(t){t.length&&(t.forEach(t=>{const e=new FileReader;e.readAsArrayBuffer(t),e.addEventListener("load",()=>{this.$store.dispatch("addTrack",e.result)})}),this.files=[])}}},$t=xt,wt=a("23a7"),Et=Object(p["a"])($t,ut,dt,!1,null,null,null),Mt=Et.exports;k()(Et,{VFileInput:wt["a"]});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VDialog",{attrs:{"max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("VCard",[a("VCardTitle",[t._v("Settings")]),a("VCardText",[a("VForm",[a("VSelect",{attrs:{items:t.outputs,label:"Track output"},model:{value:t.trackPanning,callback:function(e){t.trackPanning=e},expression:"trackPanning"}}),a("VSelect",{attrs:{items:t.outputs,label:"Click output"},model:{value:t.clickPanning,callback:function(e){t.clickPanning=e},expression:"clickPanning"}}),a("VSlider",{attrs:{label:"Track volume","hide-details":"",min:"0",max:"2",step:"0.01"},model:{value:t.trackGain,callback:function(e){t.trackGain=e},expression:"trackGain"}}),a("VSlider",{attrs:{label:"Click volume",min:"0",max:"2",step:"0.01"},model:{value:t.clickGain,callback:function(e){t.clickGain=e},expression:"clickGain"}}),a("VSelect",{attrs:{items:t.midiDevices,label:"MIDI Control Device"},model:{value:t.midiDevice,callback:function(e){t.midiDevice=e},expression:"midiDevice"}}),a("VLabel",[t._v("Edit MIDI and key mapping")]),a("VRow",{staticClass:"mt-2 ml-1"},[a("VBtn",{staticClass:"mr-4",attrs:{small:"",outlined:""},on:{click:function(e){return t.$store.dispatch("toggleControlEditMode")}}},[t._v("MIDI")]),a("VBtn",{attrs:{small:"",outlined:""},on:{click:function(e){return t.$store.dispatch("toggleControlEditMode")}}},[t._v("Key")])],1)],1)],1),a("VCardActions",[a("VSpacer"),a("VBtn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("OK")])],1)],1)],1)},Dt=[],Bt={data(){return{outputs:[{text:"1/2 (Stereo)",value:0},{text:"1 (Mono)",value:-1},{text:"2 (Mono)",value:1}],midiDevices:z().map(t=>t.name)}},computed:{dialog:{get(){return"settings"===this.$store.state.dialog},set(){return this.$store.dispatch("toggleSettingsDialog")}},trackPanning:{get(){return this.$store.state.trackPanning},set(t){return this.$store.dispatch("setTrackPanning",t)}},clickPanning:{get(){return this.$store.state.clickPanning},set(t){return this.$store.dispatch("setClickPanning",t)}},clickGain:{get(){return this.$store.state.clickGainValue},set(t){this.$store.dispatch("setClickGainValue",t)}},trackGain:{get(){return this.$store.state.trackGainValue},set(t){this.$store.dispatch("setMasterTrackGainValue",t)}},midiDevice:{get(){return this.$store.state.midiDevice},set(t){this.$store.dispatch("setMidiDeviceName",t)}}}},Ot=Bt,Gt=a("169a"),It=a("4bd4"),Nt=a("24c9"),jt=a("b974"),Lt=a("2fa4"),Ft=Object(p["a"])(Ot,At,Dt,!1,null,null,null),Rt=Ft.exports;k()(Ft,{VBtn:$["a"],VCard:Ct["a"],VCardActions:bt["a"],VCardText:bt["b"],VCardTitle:bt["c"],VDialog:Gt["a"],VForm:It["a"],VLabel:Nt["a"],VRow:w["a"],VSelect:jt["a"],VSlider:St["a"],VSpacer:Lt["a"]});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VDialog",{attrs:{"max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("VCard",[a("VCardTitle",[t._v("About")]),a("VCardText",{staticClass:"text-center"},[a("p",[t._v("Created by David Hulme")]),a("p",[a("a",{attrs:{href:"https://github.com/dhulme/multitrack-player"}},[t._v("github.com/dhulme/multitrack-player")]),a("br"),a("a",{attrs:{href:"http://dhulme.co.uk"}},[t._v("dhulme.co.uk")]),a("br"),a("a",{attrs:{href:"https://twitter.com/hulmed"}},[t._v("@hulmed")])]),a("p",[t._v("Version "+t._s(t.version))])])],1)],1)},Kt=[],Wt={data(){return{version:"0.1.0"}},computed:{dialog:{get(){return"about"===this.$store.state.dialog},set(){return this.$store.dispatch("toggleAboutDialog")}}}},qt=Wt,Ht=Object(p["a"])(qt,Jt,Kt,!1,null,null,null),zt=Ht.exports;k()(Ht,{VCard:Ct["a"],VCardText:bt["b"],VCardTitle:bt["c"],VDialog:Gt["a"]});var Qt={components:{TrackManager:Mt,SettingsDialog:Rt,AboutDialog:zt},name:"home",data(){return{publicPath:"/multitrack-player/"}}},Ut=Qt,Xt=a("a523"),Yt=Object(p["a"])(Ut,ct,lt,!1,null,null,null),Zt=Yt.exports;k()(Yt,{VContainer:Xt["a"]}),i["a"].use(st["a"]);var te=new st["a"]({routes:[{path:"/",name:"home",component:Zt}]}),ee=a("2f62");i["a"].use(ee["a"]);const ae=new AudioContext,ie=new StereoPannerNode(ae,{pan:0});let ne=ae.currentTime,oe=0;const re=new ee["a"].Store({state:{playState:"stopped",playPosition:0,tracks:[],clickActive:!1,clickBpm:102,clickGainValue:1,trackGainValue:1,soloTrack:null,dialog:null,trackPanning:0,clickPanning:0,loading:!0,clickTimeSignature:{beats:4,unit:4},midiDeviceName:null,controlEditMode:null,controlEditSelected:null,controlEditMap:{}},getters:{getTrack(t){return e=>t.tracks.find(t=>t===e)},playBeatsPosition(t){return K(t)},getControlMapping(t){return e=>t.controlEditMap[e]}},mutations:{setPlayState(t,e){t.playState=e},addTrack(t,e){t.tracks.push(e)},removeTrack(t,e){t.tracks.splice(t.tracks.indexOf(e),1)},setClickActive(t,e){t.clickActive=e},setPlayPosition(t,e){t.playPosition=e},setMasterTrackGainValue(t,e){t.trackGainValue=e},setClickGainValue(t,e){t.clickGainValue=e},setTrackGainValue(t,{track:e,value:a}){e.gainValue=a},setTrackActive(t,{track:e,value:a}){e.active=a},setSoloTrack(t,e){t.soloTrack=e},setDialog(t,e){t.dialog=e},setTrackPanning(t,e){t.trackPanning=e},setClickPanning(t,e){t.clickPanning=e},setClickBpm(t,e){t.clickBpm=e},setLoading(t,e){t.loading=e},setClickTimeSignature(t,e){t.clickTimeSignature=e},setMidiDeviceName(t,e){t.midiDeviceName=e},setControlEditMode(t,e){t.controlEditMode=e},setControlEditSelected(t,e){t.controlEditSelected=e},setControlEdit(t,e){t.controlEditMap[t.controlEditSelected]=e}},actions:{playPause({state:t,commit:e}){const a={stopped:"playing",paused:"playing",playing:"paused"},i=a[t.playState];e("setPlayState",i),"suspended"===ae.state&&ae.resume(),"playing"===i?(ne=ae.currentTime,oe=0,t.tracks.forEach(e=>e.play(ae.currentTime,t.playPosition))):t.tracks.forEach(t=>t.pause())},stop({commit:t,state:e}){"playing"===e.playState&&e.tracks.forEach(t=>t.stop()),t("setPlayState","stopped"),t("setPlayPosition",0),F(),e.tracks.forEach(t=>t.eventLoop(re.state.playPosition))},addTrack({commit:t},e){const a=new vt({arrayBuffer:e,audioContext:ae,stereoPannerNode:ie,store:re});t("addTrack",a)},removeTrack({commit:t},e){t("removeTrack",e)},toggleClickActive({commit:t,state:e}){t("setClickActive",!e.clickActive)},setMasterTrackGainValue({commit:t,state:e},a){t("setMasterTrackGainValue",a),e.tracks.forEach(se)},setTrackGainValue({commit:t},{track:e,value:a}){t("setTrackGainValue",{track:e,value:a}),se(e)},setTrackActive({commit:t},{track:e,value:a}){t("setTrackActive",{track:e,value:a}),se(e)},setSoloTrack({commit:t,state:e},a){t("setSoloTrack",a),e.tracks.forEach(se)},toggleSettingsDialog({commit:t,state:e}){t("setDialog","settings"===e.dialog?null:"settings")},toggleAboutDialog({commit:t,state:e}){t("setDialog","about"===e.dialog?null:"about")},setTrackPanning({commit:t},e){t("setTrackPanning",e),ie.pan.value=e},setClickPanning({commit:t},e){t("setClickPanning",e),L(e)},setClickBpm({commit:t},e){t("setClickBpm",e)},setClickGainValue({commit:t},e){t("setClickGainValue",e),R(e)},setClickTimeSignature({commit:t},e){t("setClickTimeSignature",e)},setMidiDeviceName({commit:t},e){t("setMidiDeviceName",e),U(e,re)},toggleControlEditMode({commit:t,state:e}){t("setControlEditMode",!e.controlEditMode),t("setDialog",null)},setControlEditSelected({commit:t},e){t("setControlEditSelected",e)},setControlEdit({commit:t,dispatch:e},{type:a,value:i}){t("setControlEdit",{type:a,value:i}),e("toggleControlEditMode")},triggerControlAction({state:t,dispatch:e},a){Object.entries(t.controlEditMap).find(([t,i])=>{i.type===a.type&&i.value===a.value&&e(t)})}}});function se(t){t.setGain(re.state.trackGainValue,re.state.soloTrack)}const ce=.01;function le(){re.commit("setPlayPosition",re.state.playPosition+ce),re.state.tracks.forEach(t=>t.eventLoop(re.state.playPosition))}setInterval(()=>{if("playing"===re.state.playState){const t=ae.currentTime-ne;t/oe>ce&&(le(),oe++),j(re)}},1);var ue=re,de=a("9483");Object(de["a"])("/multitrack-player/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var pe=a("f309");i["a"].use(pe["a"]);var me=new pe["a"]({icons:{iconfont:"mdiSvg"}});i["a"].config.productionTip=!1,new i["a"]({router:te,store:ue,vuetify:me,render:t=>t(rt)}).$mount("#app")},"82c2":function(t,e,a){},"9be0":function(t,e,a){"use strict";var i=a("5462"),n=a.n(i);n.a},"9e86":function(t,e,a){"use strict";var i=a("82c2"),n=a.n(i);n.a},ab31:function(t,e,a){}});